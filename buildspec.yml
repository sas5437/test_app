# AWS CodeBuild buildspec.yml to specify build commands
version: 0.1

phases:
  install:
    commands:
      - echo Nothing to do in the install phase
      - echo $TAR_FILE
  pre_build:
    commands:
      - echo Nothing to do in the pre_build phase...
  build:
    commands:
      - echo Build started on `date`
      - docker build -t $IMAGE_NAME .
  post_build:
    commands:
      - echo Build completed on `date`
      - docker save --output ${IMAGE_NAME}.tar.gz $IMAGE_NAME
artifacts:
  files:
    - ${IMAGE_NAME}.tar.gz
